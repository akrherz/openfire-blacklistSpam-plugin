<!--
  ~ Copyright 2019 Ignite Realtime Foundation
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
    <title>Spam Blacklist Plugin Readme</title>
    <style type="text/css">
        BODY {
            font-size : 100%;
        }
        BODY, TD, TH {
            font-family : tahoma, verdana, arial, helvetica, sans-serif;
            font-size : 0.8em;
        }
        H2 {
             font-size : 10pt;
             font-weight : bold;
        }
        A:hover {
            text-decoration : none;
        }
        H1 {
            font-family : tahoma, arial, helvetica, sans-serif;
            font-size : 1.4em;
            font-weight: bold;
            border-bottom : 1px #ccc solid;
            padding-bottom : 2px;
        }

        TT {
            font-family : courier new;
            font-weight : bold;
            color : #060;
        }
        PRE {
            font-family : courier new;
            font-size : 100%;
        }
    </style>
</head>
<body>

<h1>
Spam Blacklist Plugin Readme
</h1>

<h2>Overview</h2>

<p>
The spam blacklist plugin periodically retrieves a curated list of addresses
that are known sources of spam, and blocks traffic sent from those addresses.
</p>

<h2>Installation</h2>

<p>
Copy blacklistSpam.jar into the plugins directory of your Openfire installation.
The plugin will then be automatically deployed. To upgrade to a new version,
copy the new monitoring.jar file over the existing file.
</p>

<h2>Configuration</h2>

<p>
The list of addresses that are blocked is obtained using a HTTP call from an URL
that is configured by the property <tt>blacklistspam.connection.request.url</tt>
The default value for this property is <tt>https://igniterealtime.org/JabberSPAM/blacklist.txt</tt>
The HTTP result is expected to contain a plain-text body, with JIDs (domains)
separated by newlines (one JID per line).
</p>

<p>
The default behavior of the plugin is the verify stanzas that arrive from other XMPP domains.
The plugin can also be configured to verify stanzas that are outbound. This behavior is
configured by the <tt>blacklistspam.check.incoming</tt> and <tt>blacklistspam.check.outgoing</tt>
properties, which require a boolean value.
</p>

<p>
To facilitate analysis of stanzas that are blocked, the plugin can be configured to write
all blocked stanzas to disk. To enable this functionality, set the value for the
<tt>blacklistspam.blockedlog.enabled</tt> property to <tt>true</tt>. When enabled,
all blocked stanzas are logged in files in a folder named <tt>blacklist</tt> in the
<tt>&lt;OPENFIRE-HOME&gt;/</tt> folder.
</p>

<h2>Attribution</h2>
<p>
Icons made by <a href="https://www.flaticon.com/authors/smashicons" title="Smashicons">Smashicons</a>
from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a>
is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a>
</p>

</body>
</html>
